# 目录结构
![image.png](https://lvyusen-1316126434.cos.ap-guangzhou.myqcloud.com/images/202411070145431.png?imageSlim)
# 配置命令

| crontab    | 说明              |                          |
| ---------- | --------------- | ------------------------ |
| crontab -e | edit编辑当前用户的定时任务 | vi  /var/spool/cron/root |
| crontab -l | list查看当前用户的定时任务 | cat /var/spool/cron/root |
# 时间格式
![image.png](https://lvyusen-1316126434.cos.ap-guangzhou.myqcloud.com/images/202411070207654.png?imageSlim)
![image.png](https://lvyusen-1316126434.cos.ap-guangzhou.myqcloud.com/images/202411070220302.png?imageSlim)
# 同步时间案例
```bash
*/2 * * * * /sbin/ntpdate ntp1.aliyun.com
日志文件： /var/log/cron
邮件文件: /var/spool/mail/root
任务文件: /var/spool/cron/root
```
# 备份案例
```bash
1.创建备份存放文件夹
mkdir -p /backup

2.创建脚本文件夹
mkdir -p /servers/script

3.编写脚本
vim /servers/script/backup-etc.sh
	tar zcf /backup/etc-`date +%F_%T`.tar.gz /etc/

4.增加定时任务
crontab -e
	00 00 * * * sh /servers/script/backup-etc.sh
```
# 变量与脚本
```bash
1.脚本内容：
TIME=`date +%F_%w`
tar zcf /backup/etc-${time}.tar.gz /etc/

2.crontab -e
	00 00 * * * sh /servers/script/backup-etc-v2.sh
```