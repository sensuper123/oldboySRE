# 安全攻击方式
![image.png](https://lvyusen-1316126434.cos.ap-guangzhou.myqcloud.com/images/202501130312130.png?imageSlim)

# 加密算法
+ 对称加密算法 DES
+ 非对称加密算法 RSC
	+ 数据加密
		+ 用对方公钥进行加密，只能用对方私钥进行解密
	+ 数字签名
		+ 用自身私钥进行加密，别人能用公钥解开，就能确定数据来源
+ 单向散列算法 hash
	+ 检查文件是否被修改过
	+ 数据不变，hash不变
## 常用的加密方法
	A对数据进行hash生成摘要，再把摘要用A的私钥进行加密，接着吧数据与摘要放一起再用对称方法进行加密生成key，之后再用非对称方法加密这个key，再把这些数据传输给B
	B拿到数据后，用公钥进行对称加密算法key的解密，拿到对称算法的key，再进行解密，得到摘要和数据，对摘要用A的公钥进行解密，确定来源，再用hash算法对数据进行解析，得到hash，再与A附带的hash进行比较，确认数据无误
## 对称加密命令
+ gpg -c 加密
+ gpg -o passwd -d 解密
## 非对称加密命令
```bash
# A生成公钥私钥
gpg --gen-key

# A导出公钥 -a 以base64显示 --export 导出 -o 文件
gpg -a --export -o /data/lvyusen.pubkey

#A 传递给B
scp file 10.0.0.200:/data

# B导入公钥
gpg --import lvyusen.pubkey

# B公钥加密 -e 加密 -r 选择公钥A
gpg -e -r lvyusen fstab

#A私钥解密
gpg -o filename -d fstab

#B删除公钥
gpg --delete-keys lvyusen

#B删除私钥
gpg --delete-secret-keys wang
```
## CA证书验证
	对于主机和主机之间的数据加密，存在着黑客第三方欺骗，不太安全，所以有一些权威的机构，提供证书验证
	每个主机都向CA申请证书，证书内容包括上级CA对主机的公钥进行私钥加密，和证书链
	A主机要想获得B主机的公钥，首先B向A发送证书，A如果没有B主机的上级CA公钥，会从证书链寻找，直到找到共同的CA，用共同的CA的公钥进行对B的证书链解密，直到解压到B的上级CA，得到B的上级CA的公钥，对B的实体证书进行解密，最后得到B的公钥